**Inversion of Control (IoC)** là một nguyên tắc thiết kế trong lập trình hướng đối tượng nhằm giúp việc quản lý các đối tượng và phụ thuộc của chúng trở nên linh hoạt hơn. IoC cho phép các phần của chương trình không phụ thuộc chặt chẽ vào nhau mà được cấu hình và liên kết một cách động, giúp code dễ bảo trì, kiểm thử và mở rộng.

### Cách hiểu về IoC
IoC có thể được hiểu là "đảo ngược điều khiển", tức là thay vì một đối tượng tự tạo và quản lý các đối tượng phụ thuộc của nó, nhiệm vụ này được chuyển sang một đối tượng khác (như IoC container). IoC container sẽ chịu trách nhiệm tạo ra các đối tượng, quản lý vòng đời của chúng và liên kết các phụ thuộc vào với nhau.

### Ví dụ trong Spring Framework
Trong Spring Framework, IoC thường được thực hiện thông qua **Dependency Injection (DI)**. Đây là cách mà Spring container sẽ tự động cung cấp các phụ thuộc cho một đối tượng thay vì đối tượng đó tự tạo ra chúng. Có các cách tiêm phụ thuộc (DI) phổ biến như sau:

1. **Constructor Injection**:
   Các phụ thuộc được cung cấp thông qua constructor của đối tượng.
   ```java
   public class UserService {
       private UserRepository userRepository;

       // Constructor injection
       public UserService(UserRepository userRepository) {
           this.userRepository = userRepository;
       }
   }
   ```

2. **Setter Injection**:
   Các phụ thuộc được cung cấp thông qua setter method.
   ```java
   public class UserService {
       private UserRepository userRepository;

       // Setter injection
       public void setUserRepository(UserRepository userRepository) {
           this.userRepository = userRepository;
       }
   }
   ```

3. **Field Injection** (ít khuyến khích hơn):
   Các phụ thuộc được cung cấp trực tiếp vào các trường (fields) của đối tượng thông qua annotation `@Autowired`.
   ```java
   public class UserService {
       @Autowired
       private UserRepository userRepository;
   }
   ```

### Lợi ích của IoC
- **Giảm sự phụ thuộc (Loose Coupling)**: IoC tách biệt việc tạo và quản lý vòng đời của đối tượng ra khỏi bản thân các đối tượng đó, giúp các đối tượng có thể dễ dàng thay thế hoặc mở rộng mà không cần thay đổi code.
- **Tăng khả năng tái sử dụng**: Các đối tượng có thể được tái sử dụng ở nhiều nơi khác nhau vì chúng không bị ràng buộc chặt chẽ với các phụ thuộc cụ thể.
- **Dễ kiểm thử**: Với IoC, các phụ thuộc có thể dễ dàng được thay thế bằng các đối tượng giả lập (mock objects) khi kiểm thử, giúp viết unit test dễ dàng hơn.

### Tổng kết
IoC là một nguyên tắc quan trọng giúp cho việc phát triển phần mềm trở nên linh hoạt và dễ bảo trì hơn. Trong các framework như Spring, IoC là một trong những yếu tố cốt lõi để xây dựng các ứng dụng theo mô hình lập trình hướng đối tượng, giúp quản lý các phụ thuộc một cách hiệu quả thông qua các container và cơ chế Dependency Injection.





**Dependency Injection (DI)** là một mẫu thiết kế trong lập trình hướng đối tượng, được sử dụng để thực hiện **Inversion of Control (IoC)**. Nó cho phép một đối tượng nhận các phụ thuộc của mình từ một nguồn bên ngoài thay vì tự tạo ra, giúp cho mã nguồn trở nên linh hoạt hơn, dễ bảo trì và dễ kiểm thử hơn.

### Dependency Injection hoạt động như thế nào?
Trong DI, trách nhiệm tạo ra và quản lý các phụ thuộc được ủy thác cho một thành phần bên ngoài (thường được gọi là **container**). Container này cung cấp các phụ thuộc cần thiết cho đối tượng, giúp đối tượng có thể tập trung vào các chức năng chính của mình thay vì phải quản lý cách các phụ thuộc được tạo ra.

### Các loại Dependency Injection
Có ba loại chính của DI:

1. **Constructor Injection**: Các phụ thuộc được truyền vào đối tượng thông qua constructor (hàm khởi tạo).
2. **Setter Injection**: Các phụ thuộc được truyền vào thông qua các phương thức setter.
3. **Field Injection**: Các phụ thuộc được gán trực tiếp vào các biến của đối tượng, thường sử dụng annotation (chỉ thị) như `@Autowired` trong Spring.

### Lợi ích của Dependency Injection
- **Giảm độ kết dính (Coupling)**: DI giúp giảm sự phụ thuộc của các lớp vào nhau, giúp mã nguồn dễ thay đổi và mở rộng.
- **Dễ kiểm thử (Testable)**: Với DI, ta có thể dễ dàng thay thế các phụ thuộc bằng các mock object hoặc stub khi kiểm thử.
- **Tái sử dụng mã nguồn**: Bằng cách tách biệt các phụ thuộc, các lớp có thể được tái sử dụng trong các ngữ cảnh khác nhau mà không cần sửa đổi.

DI thường được sử dụng trong các framework như **Spring** để quản lý sự phụ thuộc giữa các bean, giúp ứng dụng trở nên dễ bảo trì và phát triển.








@Component là một annotation trong Spring Framework được sử dụng để đánh dấu một class là một Spring bean. Khi một class được đánh dấu với @Component, Spring sẽ tự động phát hiện và quản lý nó như một bean trong container của Spring. Điều này cho phép Spring thực hiện dependency injection và quản lý vòng đời của bean đó.
